{"version":3,"sources":["componets/navbar/Navbar.module.css","serviceWorker.js","redux/App-reducer.js","redux/Redax-store.js","componets/navbar/Navbar.jsx","componets/header/Header.jsx","componets/header/HeaderContainer.jsx","componets/hoc/withSuspense.js","App.js","index.js","redux/Auth-reducer.js","componets/common/preloader/Preloader.js","componets/header/Header.module.css","redux/Profile-reducer.js","API/API.js","redux/Dialog-reducer.js","utils/object-helpers.js","redux/Users-reducer.js","componets/assets/images/LoadingUsers.svg"],"names":["module","exports","nav","item","active","Boolean","window","location","hostname","match","initialState","initialized","appReducer","state","arguments","length","undefined","type","_objectSpread","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogReducer","userPage","usersReducer","auth","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Navbar","react_default","a","createElement","className","s","react_router_dom","to","activeClassName","concat","Header","props","header","src","loginBlock","isAuth","login","onClick","logout","HeaderContainer","header_Header","this","React","Component","connect","withSuspense","Suspense","fallback","Preloader","DialogsContainer","lazy","Promise","all","__webpack_require__","e","then","bind","UsersContainer","ProfileContainer","LoginPage","App","initializedApp","header_HeaderContainer","navbar_Navbar","react_router","path","render","withRouter","dispatch","promise","getAuthUserData","ReactDOM","react_redux_es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","usersId","email","setAuthUserData","userId","payload","_ref","Object","D_Projects_Project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Projects_Project_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","response","_response$data$data","id","_login","wrap","_context","prev","next","authAPI","me","sent","data","resultCode","stop","_x","apply","password","rememberMe","_ref2","_callee2","message","_context2","messages","stopSubmit","_error","_x2","_ref3","_callee3","_context3","_x3","action","_Preloader_module_css__WEBPACK_IMPORTED_MODULE_0__","_Preloader_module_css__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_images_LoadingUsers_svg__WEBPACK_IMPORTED_MODULE_1__","_assets_images_LoadingUsers_svg__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","style","loading","preloader","posts","like","age","profile","status","addPostActionCreator","newPostText","getUserProfile","usersAPI","getProfile","setUserProfile","getUserStatus","profileAPI","getStatus","setUserStatus","updateUserStatus","updateStatus","newPost","D_Projects_Project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","d","__webpack_exports__","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","create","withCredentials","baseURL","headers","API-KEY","getUsers","currentPage","pageSize","get","follow","post","unFollow","delete","put","dialogs","name","addMessagesActionCreator","newMessagesText","body","D_Projects_Project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","acceptFollow","acceptUnFollow","setCurrentPage","toggleIsFetching","toggleIsFollowingInProgress","requestUsers","page","asyncToGenerator","regenerator_default","count","totalCount","followUnFollowFlow","apiMethod","ActionCreator","_x4","_x5","_x6","_ref4","_callee4","_context4","_x7","UsersReducer","Users_reducer_objectSpread","followed","toConsumableArray","filter","p"],"mappings":"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","file":"static/js/main.4146919a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__540Ur\",\"item\":\"Navbar_item__3R9Xf\",\"active\":\"Navbar_active__2IJub\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {authAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./Auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const initializedSuccess = () => {\r\n    return{type: INITIALIZED_SUCCESS}\r\n};\r\nexport const initializedApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all ([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./Profile-reducer\";\r\nimport dialogReducer from \"./Dialog-reducer\";\r\nimport usersReducer from \"./Users-reducer\";\r\nimport authReducer from \"./Auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./App-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogReducer,\r\n    userPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n            <nav className={s.nav}>\r\n                <div className={s.item}>\r\n                    <NavLink to='/Profile' activeClassName={s.active}>Profile</NavLink>\r\n                </div>\r\n                <div className={`${s.item} ${s.active}`}>\r\n                    <NavLink to='/Dialogs' activeClassName={s.active}>Messages</NavLink>\r\n                </div>\r\n                <div className={`${s.item} ${s.active}`}>\r\n                    <NavLink to='/Users' activeClassName={s.active}>Users</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <a>News</a>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <a>Music</a>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <a>Settings</a>\r\n                </div>\r\n            </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src='https://bcassetcdn.com/asset/logo/e33c12b4-1128-4129-b31f-2c31cb0878c7/logo?v=4&text=Logo+Text+Here'/>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth\r\n                ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                : <NavLink to={'/login'}>login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/Auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport Preloader from \"../common/preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n        <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n};","import React from 'react';\nimport './App.css';\nimport Navbar from './componets/navbar/Navbar';\nimport {Route, Switch, withRouter} from 'react-router-dom';\nimport HeaderContainer from \"./componets/header/HeaderContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializedApp} from \"./redux/App-reducer\";\nimport Preloader from \"./componets/common/preloader/Preloader\";\nimport {withSuspense} from \"./componets/hoc/withSuspense\";\nconst DialogsContainer = React.lazy(() => import('./componets/dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./componets/users/UsersContainer'));\nconst ProfileContainer = React.lazy(() => import('./componets/profile/ProfileContainer'));\nconst LoginPage = React.lazy(() => import('./componets/login/Login'));\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializedApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                        <Route path='/Dialogs'\n                               render={withSuspense(DialogsContainer)}/>\n                        <Route path='/Profile/:userId?'\n                               render={withSuspense(ProfileContainer)}/>\n                        <Route path='/Users'\n                               render={withSuspense(UsersContainer)}/>\n                        <Route path='/login'\n                               render={withSuspense(LoginPage)}/>\n                    </Switch>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nexport default compose(withRouter, connect(mapStateToProps, {initializedApp}))(App);","import * as serviceWorker from './serviceWorker';\nimport store from './redux/Redax-store'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {HashRouter} from \"react-router-dom\";\n\n    ReactDOM.render(\n        <HashRouter>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </HashRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {authAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USERS_DATA = 'SET_USERS_DATA';\r\n\r\n\r\nlet initialState = {\r\n    usersId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USERS_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USERS_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n                dispatch(stopSubmit('login', {_error: message}));\r\n            }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n};\r\n\r\nexport default authReducer;","import style from \"./Preloader.module.css\";\r\nimport preloader from \"../../assets/images/LoadingUsers.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className={style.loading}>\r\n            <img src={preloader}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1ZVPm\",\"loginBlock\":\"Header_loginBlock__7MHyA\"};","import {profileAPI, usersAPI} from \"../API/API\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Привет, как ты Костя?', like: 'like ', age: '31'},\r\n        {id: 2, message: 'Привет, нормально, а ты как?', like: 'like ', age: '15'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            debugger\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newPostText,\r\n                like: 'like ',\r\n                age: '0'\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response.data));\r\n};\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n    }\r\n};\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, status});\r\n\r\nexport default profileReducer;","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '3af6bfa5-65e5-4eec-88f6-fc8f87e12121'\r\n    }\r\n});\r\n\r\nexport const  usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unFollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n};\r\n\r\nexport const  profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status: status});\r\n    }\r\n};\r\n\r\nexport const  authAPI = {\r\n\r\n    me () {\r\n        return instance.get(`auth/me`);\r\n    },\r\n\r\n    login (email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n\r\n    logout () {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n","const ADD_MESSAGES = 'ADD-MESSAGES';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Victor'},\r\n        {id: 6, name: 'Valera'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Привет'},\r\n        {id: 2, message: 'Пошли гулять.'},\r\n        {id: 3, message: 'Что задавали по математике?'},\r\n        {id: 4, message: 'Что-то пошло не так.'},\r\n        {id: 5, message: 'Я учусь на программиста.'},\r\n        {id: 6, message: 'Что?'}\r\n    ]\r\n};\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGES:\r\n            let body = action.newMessagesText;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 7, message: body}]\r\n            };\r\n\r\n        default:\r\n            return state\r\n    }\r\n    ;\r\n\r\n};\r\n\r\nexport const addMessagesActionCreator = (newMessagesText) => ({type: ADD_MESSAGES, newMessagesText});\r\n\r\n\r\nexport default dialogReducer;","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {usersAPI} from \"../API/API\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst TOTAL_USERS_COUNT = 'TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = 'TOGGLE_IS_FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst UsersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n\r\n        case TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            };\r\n\r\n            case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        case TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const acceptFollow = (userId) => ({type: FOLLOW, userId});\r\nexport const acceptUnFollow = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setUsersTotalCount = (totalUsersCount) => ({type: TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleIsFollowingInProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setUsersTotalCount(data.totalCount));\r\n    }\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, ActionCreator) => {\r\n    dispatch(toggleIsFollowingInProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(ActionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowingInProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnFollowFlow(dispatch, userId, usersAPI.follow.bind(userId), acceptFollow);\r\n    }\r\n};\r\n\r\nexport const unFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnFollowFlow(dispatch, userId, usersAPI.unFollow.bind(userId), acceptUnFollow);\r\n    }\r\n};\r\n\r\nexport default UsersReducer;","module.exports = __webpack_public_path__ + \"static/media/LoadingUsers.2f5eb655.svg\";"],"sourceRoot":""}
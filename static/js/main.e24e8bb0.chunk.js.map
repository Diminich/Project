{"version":3,"sources":["componets/navbar/Navbar.module.css","serviceWorker.js","redux/App-reducer.js","redux/Redax-store.js","componets/navbar/Navbar.jsx","componets/header/Header.jsx","componets/header/HeaderContainer.jsx","componets/hoc/withSuspense.js","App.js","index.js","redux/Auth-reducer.js","componets/common/preloader/Preloader.js","componets/header/Header.module.css","componets/common/preloader/Preloader.module.css","API/API.js","redux/Profile-reducer.js","redux/Dialog-reducer.js","utils/object-helpers.js","redux/Users-reducer.js","componets/assets/images/LoadingUsers.svg"],"names":["module","exports","nav","item","active","Boolean","window","location","hostname","match","initialState","initialized","globalError","appReducer","state","arguments","length","undefined","type","_objectSpread","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogReducer","userPage","usersReducer","auth","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Navbar","react_default","a","createElement","className","s","react_router_dom","to","activeClassName","concat","Header","props","header","loginBlock","isAuth","login","onClick","logout","HeaderContainer","header_Header","this","React","Component","connect","withSuspense","Suspense","fallback","Preloader","DialogsContainer","lazy","Promise","all","__webpack_require__","e","then","bind","UsersContainer","ProfileContainer","LoginPage","App","catchAllUnhandledErrors","reason","promise","alert","initializedApp","addEventListener","removeEventListener","header_HeaderContainer","navbar_Navbar","react_router","exact","path","render","withRouter","dispatch","getAuthUserData","ReactDOM","react_redux_es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","usersId","email","captchaUrl","setAuthUserData","userId","payload","getCaptchaUrlSuccess","_ref","Object","D_Projects_Project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Projects_Project_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","response","_response$data$data","id","_login","wrap","_context","prev","next","authAPI","me","sent","data","resultCode","stop","_x","apply","password","rememberMe","captcha","_ref2","_callee2","message","_context2","getCaptchaUrl","messages","stopSubmit","_error","_x2","_ref3","_callee3","_context3","securityAPI","url","_x3","_ref4","_callee4","_context4","_x4","action","_Preloader_module_css__WEBPACK_IMPORTED_MODULE_0__","_Preloader_module_css__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_images_LoadingUsers_svg__WEBPACK_IMPORTED_MODULE_1__","_assets_images_LoadingUsers_svg__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","style","loading","imgPreloader","src","preloader","d","__webpack_exports__","usersAPI","profileAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","create","withCredentials","baseURL","headers","API-KEY","getUsers","currentPage","pageSize","get","follow","post","unFollow","delete","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","Content-Type","saveProfile","profile","posts","like","age","addPostActionCreator","newPostText","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","t0","file","photos","_ref5","_callee5","getState","_context5","abrupt","reject","_x5","_x6","newPost","D_Projects_Project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","dialogs","name","addMessagesActionCreator","newMessagesText","body","D_Projects_Project_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","acceptFollow","acceptUnFollow","setCurrentPage","toggleIsFetching","toggleIsFollowingInProgress","requestUsers","page","asyncToGenerator","regenerator_default","count","totalCount","followUnFollowFlow","apiMethod","ActionCreator","_x7","UsersReducer","Users_reducer_objectSpread","followed","toConsumableArray","filter","p"],"mappings":"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","file":"static/js/main.e24e8bb0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__540Ur\",\"item\":\"Navbar_item__3R9Xf\",\"active\":\"Navbar_active__2IJub\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {getAuthUserData} from \"./Auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const initializedSuccess = () => {\r\n    return{type: INITIALIZED_SUCCESS}\r\n};\r\nexport const initializedApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all ([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./Profile-reducer\";\r\nimport dialogReducer from \"./Dialog-reducer\";\r\nimport usersReducer from \"./Users-reducer\";\r\nimport authReducer from \"./Auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./App-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogReducer,\r\n    userPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n            <nav className={s.nav}>\r\n                <div className={s.item}>\r\n                    <NavLink to='/Profile' activeClassName={s.active}>Profile</NavLink>\r\n                </div>\r\n                <div className={`${s.item} ${s.active}`}>\r\n                    <NavLink to='/Dialogs' activeClassName={s.active}>Messages</NavLink>\r\n                </div>\r\n                <div className={`${s.item} ${s.active}`}>\r\n                    <NavLink to='/Users' activeClassName={s.active}>Users</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <a>News</a>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <a>Music</a>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <a>Settings</a>\r\n                </div>\r\n            </nav>\r\n    )\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth\r\n                ? <div className={s.login}>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                : <NavLink to={'/login'}>login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/Auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport Preloader from \"../common/preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n        <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n};","import React from 'react';\nimport './App.css';\nimport Navbar from './componets/navbar/Navbar';\nimport {Redirect, Route, Switch, withRouter} from 'react-router-dom';\nimport HeaderContainer from \"./componets/header/HeaderContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializedApp} from \"./redux/App-reducer\";\nimport Preloader from \"./componets/common/preloader/Preloader\";\nimport {withSuspense} from \"./componets/hoc/withSuspense\";\nconst DialogsContainer = React.lazy(() => import('./componets/dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./componets/users/UsersContainer'));\nconst ProfileContainer = React.lazy(() => import('./componets/profile/ProfileContainer'));\nconst LoginPage = React.lazy(() => import('./componets/login/Login'));\n\nclass App extends React.Component {\n    catchAllUnhandledErrors = (reason, promise) => {\n        alert('Some error occured')\n    };\n\n    componentDidMount() {\n        this.props.initializedApp();\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n    }\n\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <div className='app-wrapper-content'>\n                    <Navbar/>\n                    <Switch>\n                        <Route exact path='/'\n                               render={() => <Redirect to={'/Profile'}/>}/>\n                        <Route path='/Dialogs'\n                               render={withSuspense(DialogsContainer)}/>\n                        <Route path='/Profile/:userId?'\n                               render={withSuspense(ProfileContainer)}/>\n                        <Route path='/Users'\n                               render={withSuspense(UsersContainer)}/>\n                        <Route path='/login'\n                               render={withSuspense(LoginPage)}/>\n                        <Route path='*'\n                               render={() => <div>404 NOT FOUND</div>}/>\n                    </Switch>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nexport default compose(withRouter, connect(mapStateToProps, {initializedApp}))(App);","import * as serviceWorker from './serviceWorker';\nimport store from './redux/Redax-store'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {HashRouter} from \"react-router-dom\";\n\n    ReactDOM.render(\n        <HashRouter>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </HashRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {authAPI, securityAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USERS_DATA = 'SET_USERS_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    usersId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USERS_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USERS_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n            dispatch(stopSubmit('login', {_error: message}));\r\n        }\r\n    }\r\n    ;\r\n\r\n    export const getCaptchaUrl = () => async (dispatch) => {\r\n        let response = await securityAPI.getCaptchaUrl();\r\n        const captchaUrl = response.data.url;\r\n        dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n    };\r\n\r\n    export const logout = () => async (dispatch) => {\r\n        let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    };\r\n\r\n    export default authReducer;","import style from \"./Preloader.module.css\";\r\nimport preloader from \"../../assets/images/LoadingUsers.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className={style.loading}>\r\n            <img className={style.imgPreloader} src={preloader}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1ZVPm\",\"login\":\"Header_login__2C9Yb\",\"loginBlock\":\"Header_loginBlock__7MHyA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Preloader_loading__BJFNP\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '3af6bfa5-65e5-4eec-88f6-fc8f87e12121'\r\n    }\r\n});\r\n\r\nexport const  usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unFollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n};\r\n\r\nexport const  profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status: status});\r\n    },\r\n\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData;\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type' : 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n};\r\n\r\nexport const  authAPI = {\r\n\r\n    me () {\r\n        return instance.get(`auth/me`);\r\n    },\r\n\r\n    login (email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n\r\n    logout () {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\nexport const  securityAPI = {\r\n\r\n    getCaptchaUrl () {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n};\r\n","import {profileAPI, usersAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTOS_SUCCESS = 'SAVE_PHOTOS_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Привет, как ты Костя?', like: 'like ', age: '31'},\r\n        {id: 2, message: 'Привет, нормально, а ты как?', like: 'like ', age: '15'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newPostText,\r\n                like: 'like ',\r\n                age: '0'\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        case SAVE_PHOTOS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            };\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, status});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTOS_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(response.data));\r\n};\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setUserStatus(status));\r\n        }\r\n    } catch(error) {\r\n\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;","const ADD_MESSAGES = 'ADD-MESSAGES';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Victor'},\r\n        {id: 6, name: 'Valera'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Привет'},\r\n        {id: 2, message: 'Пошли гулять.'},\r\n        {id: 3, message: 'Что задавали по математике?'},\r\n        {id: 4, message: 'Что-то пошло не так.'},\r\n        {id: 5, message: 'Я учусь на программиста.'},\r\n        {id: 6, message: 'Что?'}\r\n    ]\r\n};\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGES:\r\n            let body = action.newMessagesText;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 7, message: body}]\r\n            };\r\n\r\n        default:\r\n            return state\r\n    }\r\n    ;\r\n\r\n};\r\n\r\nexport const addMessagesActionCreator = (newMessagesText) => ({type: ADD_MESSAGES, newMessagesText});\r\n\r\n\r\nexport default dialogReducer;","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {usersAPI} from \"../API/API\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst TOTAL_USERS_COUNT = 'TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = 'TOGGLE_IS_FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst UsersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n\r\n        case TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            };\r\n\r\n            case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        case TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const acceptFollow = (userId) => ({type: FOLLOW, userId});\r\nexport const acceptUnFollow = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setUsersTotalCount = (totalUsersCount) => ({type: TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleIsFollowingInProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setUsersTotalCount(data.totalCount));\r\n    }\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, ActionCreator) => {\r\n    dispatch(toggleIsFollowingInProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(ActionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowingInProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnFollowFlow(dispatch, userId, usersAPI.follow.bind(userId), acceptFollow);\r\n    }\r\n};\r\n\r\nexport const unFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnFollowFlow(dispatch, userId, usersAPI.unFollow.bind(userId), acceptUnFollow);\r\n    }\r\n};\r\n\r\nexport default UsersReducer;","module.exports = __webpack_public_path__ + \"static/media/LoadingUsers.2f5eb655.svg\";"],"sourceRoot":""}